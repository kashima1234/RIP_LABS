# Лабораторная работа №3
 <div>
 <img src="https://img.shields.io/badge/language-Django-blue.svg" alt="Django Language">
 </div>

Цель работы: создание веб-сервиса в бэкенде нашей системы для использования его в SPA
Порядок показа: Через insomnia/postman выполнить GET списка заявок (отфильтровать по дате формирования и статусу), выполнить GET списка услуг (с фильтром), удалить введенную заявку (если есть), добавить новую услугу с картинкой, добавить услугу в заявку, добавить другую услугу, список услуг с заявкой-черновиком, посмотреть заявку (из 2 услуг), подтвердить введенную заявку (показать ошибку), сформировать заявку, зарегистрировать нового пользователя. Показать измененные данные через select, объяснить модели, сериализаторы.
Контрольные вопросы: веб-сервис, REST, RPC, заголовки и методы HTTP, версии HTTP, HTTPS, OSI ISO
Диаграмма классов с детализацией бэкенда (домены методов по url с интерфейсами, перечислить все методы, модели, таблицы БД) + insomnia/postman. Связи у моделей сделать по коду, 3 варианта: методы используют разные модели, модели используют другие модели, модели используют несколько таблиц
Задание: Создание веб-сервиса со всей итоговой бизнес логикой (кроме авторизации), подключение его к БД и тестирование в insomnia/postman
Создание веб-сервиса для получения/редактирования данных из вашей БД. Требуется разработать все методы для реализации итоговой бизнес логики вашего приложения. Для изображений услуг использовать Minio.

Требования к веб-сервису

Методы и url в API должны соответствовать REST. Для списка услуг (как в 1 лабораторной) и заявок (по статусу и диапазону даты формирования) нужно предусмотреть фильтрацию на бэкенде. Взаимодействие с БД через ORM. Не делать POST заявки. Записи в статусе удален на клиент не передаются.

Статусы нельзя менять с любого на любой: создатель удаляет и формирует черновик заявки, а модератор отклоняет и завершает сформированную заявку. В данной лабораторной пользователь создатель зафиксирован во всех методах - укажите его константой через функцию-singleton.

Домен услуги:

GET список. В списке услуг возвращается id заявки-черновика этого пользователя для страницы заявки в статусе черновик
GET одна запись
POST добавление
PUT изменение
DELETE удаление. Удаление изображения встроено в метод удаления услуги
POST добавления в заявку-черновик. Заявка создается пустой, указывается автоматически создатель, дата создания и статус, остальные поля указываются через PUT или смену статуса
POST добавление изображения. Добавление изображения по id услуги, старое изображение заменяется/удаляется
Домен заявки:

GET список (кроме удаленных и черновика, модератор и создатель через логины)
GET одна запись (поля заявки + ее услуги). При получении заявки возвращется список ее услуг с картинками
PUT изменение доп. полей заявки
PUT сформировать создателем. Происходит проверка на обязательные поля
PUT завершить/отклонить модератором. При завершить/отклонении заявки проставляется модератор и дата завершения. Одно из доп. полей заявки или м-м рассчитывается при завершении заявки (вычисление стоимости заказа, даты доставки в течении месяца, вычисления в м-м).
DELETE удаление
Домен м-м:

DELETE удаление из заявки
PUT изменение количества/порядка/значения в м-м
Домен пользователь:

POST регистрация
PUT пользователя (личный кабинет)
POST аутентификация
POST деавторизация
## Выбранная тема:
 История 7. Походы викингов. `Услуги` - города, `заявки`


